(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5975],{2899:(e,t,r)=>{"use strict";r.d(t,{S:()=>c,y:()=>i});var a=r(95155),l=r(12115),o=r(74376),n=r(87358);let s=(0,l.createContext)(),i=e=>{let{children:t}=e,[i,c]=(0,l.useState)(null),[u,d]=(0,l.useState)(!0),[m,x]=(0,l.useState)(null);async function p(){try{let e=await fetch("https://ipinfo.io/?token=".concat(n.env.NEXT_PUBLIC_IP_TOKEN));return await e.json()}catch(e){return console.error("Error fetching IP data:",e),null}}return o.registerLocale(r(74275)),(0,l.useEffect)(()=>{(async()=>{try{let e=await p();if(e&&e.country){let t=e.country.toUpperCase(),r=o.getName(t,"en");c(r)}}catch(e){console.error("Failed to fetch IP information:",e)}})()},[]),(0,a.jsx)(s.Provider,{value:{country:i,loading:u,error:m},children:t})},c=()=>(0,l.useContext)(s)},33262:()=>{},95975:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var a=r(95155),l=r(12115),o=r(41521),n=r(11124),s=r.n(n),i=r(6108);r(63195);var c=r(38370);r(33262);var u=r(35068),d=r(74376),m=r(70898),x=r(95125),p=r(20063),h=r(2899),f=r(87358);async function g(){try{let e=await fetch("https://ipinfo.io/?token=".concat(f.env.NEXT_PUBLIC_IP_TOKEN));return await e.json()}catch(e){return console.error("Error fetching IP data:",e),null}}d.registerLocale(r(74275));let b=()=>{let[e,t]=(0,l.useState)(""),[r,n]=(0,l.useState)(""),[f,b]=(0,l.useState)(""),[y,v]=(0,l.useState)(""),[j,w]=(0,l.useState)(""),[N,S]=(0,l.useState)(!1),[E,C]=(0,l.useState)(!1),[T,_]=(0,l.useState)(""),k=(0,p.useRouter)(),{country:L}=(0,h.S)(),R=async e=>{try{let t={...e,COUNTRY:L};await x.A.post("/api/first-response",t)}catch(e){}},P=async(e,t)=>{var r,a,l,o,n,s;S(!0);try{let n={FULL_NAME:e.name,EMAIL:e.email,PHONE_NO:"+".concat(e.phone),REMARKS:e.message,COUNTRY:e.country,TIME_ZONE:e.timezone,CURRENCY:e.currency,STATE:j,LEAD_IP:y,REQUEST_FORM:9},s=await x.A.post("/api/leadsform",n,{});setTimeout(()=>R(s.data.data),0),c.toast.success("Form submitted successfully!"),C(!0),t();let i=null==s||null==(a=s.data)||null==(r=a.data)?void 0:r.STUDENTS,u=null==s||null==(o=s.data)||null==(l=o.data)?void 0:l.id;Array.isArray(i)&&i.length>0?setTimeout(()=>{k.push("/leads/students?id=".concat(u))},1e3):setTimeout(()=>{k.push("/thank-you?id=".concat(u))},1e3)}catch(e){console.error("Error submitting form:",e),c.toast.error((null==e||null==(s=e.response)||null==(n=s.data)?void 0:n.message)||e.message||"An error occurred")}finally{S(!1)}};return(0,l.useEffect)(()=>{(async()=>{try{let e=await g();if(e&&e.country){let r=e.country.toUpperCase(),a=d.getName(r,"en"),l=i.countries.find(e=>e.short_name.toLowerCase()===a.toLowerCase());l&&(t(l.country_id),b(r.toLowerCase()),v(null==e?void 0:e.ip),w(null==e?void 0:e.region),n(e.timezone)),fetch("https://restcountries.com/v3.1/all").then(e=>e.json()).then(e=>{let t=e.find(e=>e.name.common.toLowerCase()===a.toLowerCase());if(t&&t.currencies){let e=Object.keys(t.currencies)[0];_(e)}else _("N/A")}).catch(e=>console.log(e))}}catch(e){console.error("Failed to fetch IP information:",e)}})()},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.ToastContainer,{}),(0,a.jsx)("div",{className:"font-bold text-[18px] md:text-lg lg:text-[28px] text-black mb-8 text-center",children:"Free Trial Class"}),E?(0,a.jsx)("p",{children:"Redirecting to Thank You page..."}):(0,a.jsx)(o.l1,{initialValues:{name:"",email:"",country:e||"",timezone:r||"",currency:T||"",phone:"",message:""},enableReinitialize:!0,onSubmit:(e,t)=>{P(e,t.resetForm),t.setSubmitting(!1)},validationSchema:u.Ik().shape({name:u.Yj(),email:u.Yj().email().required("Email is required"),country:u.Yj(),phone:u.Yj().required("Phone number is required"),message:u.Yj()}),children:e=>{let{values:t,touched:r,errors:l,handleBlur:n,handleChange:c,setFieldValue:u}=e;return(0,a.jsxs)(o.lV,{children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"w-full lg:w-1/2 relative flex flex-col",children:[(0,a.jsx)(m.x$1,{className:"absolute text-[14px] left-4 top-1/2 transform -translate-y-1/2 text-teal-200"}),(0,a.jsx)("input",{type:"text",name:"name",placeholder:"Enter your name",value:t.name,onChange:c,onBlur:n,className:"w-full pl-11 text-[13px] py-3 px-4 rounded-md bg-grey border border-grey focus:border-gree-500 focus:ring-0 focus:bg-white placeholder:text-black"})]}),(0,a.jsxs)("div",{className:"w-full lg:w-1/2 relative flex flex-col",children:[(0,a.jsx)(m.maD,{className:"absolute text-[14px] left-4 top-1/2 transform -translate-y-1/2 text-teal-200"}),(0,a.jsx)("input",{type:"email",name:"email",placeholder:"Enter your email",value:t.email,onChange:c,onBlur:n,className:"w-full pl-11 py-3 text-[13px] px-4 rounded-md bg-grey border border-grey focus:border-blue-500 focus:ring-0 focus:bg-white placeholder:text-black",required:!0})]})]}),(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"w-full lg:w-1/2 relative flex flex-col",children:[(0,a.jsx)(s(),{country:f||"us",placeholder:"Phone Number",value:t.phone,onChange:e=>u("phone",e),containerStyle:{width:"100%"},inputStyle:{width:"100%",paddingTop:"22px",paddingBottom:"22px",paddingLeft:"48px",paddingRight:"16px",borderRadius:"0.375rem",boxSizing:"border-box",fontSize:"13px"},buttonStyle:{borderRight:"1px solid #d1d1d1",backgroundColor:"white"},"aria-describedby":"phone-number"}),l.phone&&r.phone&&(0,a.jsx)("div",{className:"text-red-500 mt-2",children:l.phone})]}),(0,a.jsxs)("div",{className:"w-full lg:w-1/2 relative flex flex-col",children:[(0,a.jsx)(m.f35,{className:"absolute left-4 text-[14px]  top-1/2 transform -translate-y-1/2 text-teal-200"}),(0,a.jsxs)("select",{name:"country","aria-label":"Select your country",value:t.country,onChange:c,onBlur:n,className:"w-full pl-11 py-[14px] text-[13px] px-4 mr-1 rounded-md bg-grey border border-grey focus:bg-transparent placeholder:text-black",children:[(0,a.jsx)("option",{value:"",children:"Select country"}),(null==i?void 0:i.countries)&&i.countries.length>0?i.countries.map((e,t)=>(0,a.jsx)("option",{value:null==e?void 0:e.country_id,children:null==e?void 0:e.short_name},t)):(0,a.jsx)("option",{disabled:!0,children:"No countries available"})]})]})]}),(0,a.jsxs)("div",{className:"mb-8 relative flex flex-col",children:[(0,a.jsx)(m.fK7,{className:"absolute text-[14px] left-4 top-1/3 transform -translate-y-1/2 text-teal-200"}),(0,a.jsx)("textarea",{name:"message",placeholder:"Enter your message",value:t.message,onChange:c,onBlur:n,className:"w-full pl-11 py-3 text-[13px] px-4 rounded-md bg-grey border border-grey focus:bg-transparent placeholder:text-black"})]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)("button",{"aria-label":"submit",type:"submit",disabled:N,className:"w-full p-3 font-semibold bg-gradient-to-r from-[#006d5b] to-[#2a8e76] text-white rounded-lg shadow-lg hover:shadow-2xl hover:bg-gradient-to-r hover:from-[#2a8e76] hover:to-[#006d5b] transition-all duration-500 ease-in-out transform hover:-translate-y-0.5",children:N?"Submitting your form...":"Send Message"})})]})}})]})}}}]);