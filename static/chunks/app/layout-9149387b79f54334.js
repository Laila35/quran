(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{1150:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let r=n(95155),a=n(12115),l=n(24437);function s(e){return{default:e&&"default"in e?e.default:e}}n(36552);let o={loader:()=>Promise.resolve(s(()=>null)),loading:null,ssr:!0},i=function(e){let t={...o,...e},n=(0,a.lazy)(()=>t.loader().then(s)),i=t.loading;function u(e){let s=i?(0,r.jsx)(i,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,u=o?a.Suspense:a.Fragment,c=t.ssr?(0,r.jsxs)(r.Fragment,{children:[null,(0,r.jsx)(n,{...e})]}):(0,r.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(n,{...e})});return(0,r.jsx)(u,{...o?{fallback:s}:{},children:c})}return u.displayName="LoadableComponent",u}},2899:(e,t,n)=>{"use strict";n.d(t,{S:()=>u,y:()=>i});var r=n(95155),a=n(12115),l=n(74376),s=n(87358);let o=(0,a.createContext)(),i=e=>{let{children:t}=e,[i,u]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),[f,g]=(0,a.useState)(null);async function p(){try{let e=await fetch("https://ipinfo.io/?token=".concat(s.env.NEXT_PUBLIC_IP_TOKEN));return await e.json()}catch(e){return console.error("Error fetching IP data:",e),null}}return l.registerLocale(n(74275)),(0,a.useEffect)(()=>{(async()=>{try{let e=await p();if(e&&e.country){let t=e.country.toUpperCase(),n=l.getName(t,"en");u(n)}}catch(e){console.error("Failed to fetch IP information:",e)}})()},[]),(0,r.jsx)(o.Provider,{value:{country:i,loading:c,error:f},children:t})},u=()=>(0,a.useContext)(o)},4853:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{cancelIdleCallback:function(){return r},requestIdleCallback:function(){return n}});let n="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},r="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8567:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return r.workAsyncStorageInstance}});let r=n(17828)},13673:()=>{},17828:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return r}});let r=(0,n(64054).createAsyncLocalStorage)()},24437:(e,t,n)=>{"use strict";function r(e){let{reason:t,children:n}=e;return n}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return r}}),n(24553)},33262:()=>{},36552:(e,t,n)=>{"use strict";function r(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return r}}),n(95155),n(47650),n(8567),n(77278)},41402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return b},handleClientScriptLoad:function(){return p},initScriptLoader:function(){return y}});let r=n(28140),a=n(49417),l=n(95155),s=r._(n(47650)),o=a._(n(12115)),i=n(82073),u=n(94681),c=n(4853),d=new Map,f=new Set,g=e=>{let{src:t,id:n,onLoad:r=()=>{},onReady:a=null,dangerouslySetInnerHTML:l,children:o="",strategy:i="afterInteractive",onError:c,stylesheets:g}=e,p=n||t;if(p&&f.has(p))return;if(d.has(t)){f.add(p),d.get(t).then(r,c);return}let y=()=>{a&&a(),f.add(p)},h=document.createElement("script"),b=new Promise((e,t)=>{h.addEventListener("load",function(t){e(),r&&r.call(this,t),y()}),h.addEventListener("error",function(e){t(e)})}).catch(function(e){c&&c(e)});l?(h.innerHTML=l.__html||"",y()):o?(h.textContent="string"==typeof o?o:Array.isArray(o)?o.join(""):"",y()):t&&(h.src=t,d.set(t,b)),(0,u.setAttributesFromProps)(h,e),"worker"===i&&h.setAttribute("type","text/partytown"),h.setAttribute("data-nscript",i),g&&(e=>{if(s.default.preinit)return e.forEach(e=>{s.default.preinit(e,{as:"style"})});{let t=document.head;e.forEach(e=>{let n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e,t.appendChild(n)})}})(g),document.body.appendChild(h)};function p(e){let{strategy:t="afterInteractive"}=e;"lazyOnload"===t?window.addEventListener("load",()=>{(0,c.requestIdleCallback)(()=>g(e))}):g(e)}function y(e){e.forEach(p),[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach(e=>{let t=e.id||e.getAttribute("src");f.add(t)})}function h(e){let{id:t,src:n="",onLoad:r=()=>{},onReady:a=null,strategy:u="afterInteractive",onError:d,stylesheets:p,...y}=e,{updateScripts:h,scripts:b,getIsSsr:m,appDir:w,nonce:_}=(0,o.useContext)(i.HeadManagerContext);_=y.nonce||_;let j=(0,o.useRef)(!1);(0,o.useEffect)(()=>{let e=t||n;j.current||(a&&e&&f.has(e)&&a(),j.current=!0)},[a,t,n]);let v=(0,o.useRef)(!1);if((0,o.useEffect)(()=>{if(!v.current){if("afterInteractive"===u)g(e);else"lazyOnload"===u&&("complete"===document.readyState?(0,c.requestIdleCallback)(()=>g(e)):window.addEventListener("load",()=>{(0,c.requestIdleCallback)(()=>g(e))}));v.current=!0}},[e,u]),("beforeInteractive"===u||"worker"===u)&&(h?(b[u]=(b[u]||[]).concat([{id:t,src:n,onLoad:r,onReady:a,onError:d,...y,nonce:_}]),h(b)):m&&m()?f.add(t||n):m&&!m()&&g({...e,nonce:_})),w){if(p&&p.forEach(e=>{s.default.preinit(e,{as:"style"})}),"beforeInteractive"===u)if(!n)return y.dangerouslySetInnerHTML&&(y.children=y.dangerouslySetInnerHTML.__html,delete y.dangerouslySetInnerHTML),(0,l.jsx)("script",{nonce:_,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([0,{...y,id:t}])+")"}});else return s.default.preload(n,y.integrity?{as:"script",integrity:y.integrity,nonce:_,crossOrigin:y.crossOrigin}:{as:"script",nonce:_,crossOrigin:y.crossOrigin}),(0,l.jsx)("script",{nonce:_,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([n,{...y,id:t}])+")"}});"afterInteractive"===u&&n&&s.default.preload(n,y.integrity?{as:"script",integrity:y.integrity,nonce:_,crossOrigin:y.crossOrigin}:{as:"script",nonce:_,crossOrigin:y.crossOrigin})}return null}Object.defineProperty(h,"__nextScript",{value:!0});let b=h;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},45183:(e,t,n)=>{"use strict";n.d(t,{default:()=>_});var r=n(95155),a=n(12115),l=n(2899),s=n(67909),o=n(20063),i=n(95125);let u=(0,a.createContext)(),c=e=>{let{children:t}=e,[n,l]=(0,a.useState)(null),[s,c]=(0,a.useState)(null),[d,f]=(0,a.useState)(!1),[g,p]=(0,a.useState)({}),[y,h]=(0,a.useState)(null),b=(0,o.useRouter)(),m=e=>{l(e),f(!0)},w=()=>{c(null),f(!1)},_=e=>{c(e),f(!0)},j=async()=>{try{let e=await i.A.get("/api/get-access-token",{withCredentials:!0});if(e.data&&e.data.accessToken)return m(e.data.accessToken),e.data.accessToken;return await x()}catch(e){return console.error("Error getting access token:",e),await x()}},v=async()=>{try{let e=await i.A.get("/api/student/get-access-token",{withCredentials:!0});if(e.data&&e.data.stdAccessToken)return _(e.data.stdAccessToken),e.data.stdAccessToken;return await O()}catch(e){return console.error("Error getting access token:",e),await O()}},x=async()=>{try{let e=(await i.A.get("/api/refresh-token",{withCredentials:!0})).data.data.accessToken;return l(e),e}catch(e){return w(),null}},O=async()=>{try{let e=(await i.A.get("/api/student/refresh-token",{withCredentials:!0})).data.data.stdAccessToken;return c(e),e}catch(e){return w(),null}},k=async()=>{try{let e=await i.A.get("/api/logout",{withCredentials:!0});if(200===e.status)console.log("Logout successful"),l(null),b.push("/admin/login"),l(null);else{let t=await e.json();console.error("Logout error:",t.message)}}catch(e){console.error("Error logging out:",e)}},P=async()=>{try{let e=await i.A.get("/api/student/logout",{withCredentials:!0});if(200===e.status)console.log("Logout successful"),c(null),b.push("/student/login"),c(null);else{let t=await e.json();console.error("Logout error:",t.message)}}catch(e){console.error("Error logging out:",e)}},C=async()=>await i.A.get("/api/admin-info",{withCredentials:!0}),S=async()=>{await i.A.get("/api/admin-info",{withCredentials:!0})};return(0,r.jsx)(u.Provider,{value:{getAdminData:C,getStudentData:S,handleLogout:k,handleStdLogout:P,accessToken:n,stdAccessToken:s,setStdAccessToken:c,setAccessToken:l,isAuthenticated:d,stdLogin:_,login:m,stdLogout:()=>{l(null),f(!1)},logout:w,refreshToken:x,refreshStdToken:O,getStdAccessToken:v,getAccessToken:j,studentInfo:g,setStudentInfo:p,student_id:y,setStudent_id:h},children:t})};n(38370),n(33262);let d=(0,s.default)(()=>Promise.resolve().then(n.bind(n,38370)).then(e=>e.ToastContainer),{loadableGenerated:{webpack:()=>[null]},ssr:!1}),f=()=>(0,r.jsx)(d,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0});var g=n(68321);let p=(0,s.default)(()=>Promise.all([n.e(2266),n.e(5802),n.e(2619),n.e(1356),n.e(2230),n.e(1326)]).then(n.bind(n,1326)),{loadableGenerated:{webpack:()=>[1326]},loading:()=>(0,r.jsx)("div",{className:"h-16 bg-white"})}),y=(0,s.default)(()=>n.e(3526).then(n.bind(n,53526)),{loadableGenerated:{webpack:()=>[53526]},ssr:!1,loading:()=>null}),h=(0,s.default)(()=>n.e(9742).then(n.bind(n,77361)),{loadableGenerated:{webpack:()=>[77361]},ssr:!1,loading:()=>null}),b=(0,s.default)(()=>Promise.all([n.e(3100),n.e(6711),n.e(9268),n.e(2619),n.e(5309),n.e(1356),n.e(2758),n.e(6108),n.e(2699)]).then(n.bind(n,75370)),{loadableGenerated:{webpack:()=>[75370]},ssr:!1,loading:()=>(0,r.jsx)("div",{className:"h-64 bg-gray-100"})}),m=(0,s.default)(()=>n.e(5122).then(n.bind(n,35122)),{loadableGenerated:{webpack:()=>[35122]},ssr:!1,loading:()=>null}),w=["/online-classes","/online-quran-classes-au"];function _(e){let{children:t}=e,n=(0,o.usePathname)(),s=w.includes(n),[i,u]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=setTimeout(()=>{u(!0)},8e3);return()=>clearTimeout(e)},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("head",{children:(0,r.jsx)(g.default,{id:"gtm-init",strategy:"afterInteractive",children:"\n            (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n            'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n            })(window,document,'script','dataLayer','GTM-KXVFQN5');\n          "})}),(0,r.jsx)("body",{children:(0,r.jsx)(l.y,{children:(0,r.jsxs)(c,{children:[(0,r.jsx)("noscript",{children:(0,r.jsx)("iframe",{src:"https://www.googletagmanager.com/ns.html?id=GTM-KXVFQN5",height:"0",width:"0",style:{display:"none",visibility:"hidden"}})}),!s&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(p,{})}),t,(0,r.jsx)(f,{}),(0,r.jsx)(y,{}),i&&(0,r.jsx)(m,{}),(0,r.jsx)(h,{}),(0,r.jsx)(b,{})]})})})]})}},46769:(e,t,n)=>{Promise.resolve().then(n.bind(n,45183)),Promise.resolve().then(n.t.bind(n,13673,23))},64054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{bindSnapshot:function(){return s},createAsyncLocalStorage:function(){return l},createSnapshot:function(){return o}});let n=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class r{disable(){throw n}getStore(){}run(){throw n}exit(){throw n}enterWith(){throw n}static bind(e){return e}}let a="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function l(){return a?new a:new r}function s(e){return a?a.bind(e):r.bind(e)}function o(){return a?a.snapshot():function(e,...t){return e(...t)}}},67909:(e,t,n)=>{"use strict";n.d(t,{default:()=>a.a});var r=n(86278),a=n.n(r)},68321:(e,t,n)=>{"use strict";n.d(t,{default:()=>a.a});var r=n(41402),a=n.n(r)},86278:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let r=n(28140)._(n(1150));function a(e,t){var n;let a={};"function"==typeof e&&(a.loader=e);let l={...a,...t};return(0,r.default)({...l,modules:null==(n=l.loadableGenerated)?void 0:n.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}},e=>{e.O(0,[7125,2978,7828,7835,8441,1255,7358],()=>e(e.s=46769)),_N_E=e.O()}]);