(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7323],{60058:(e,t,s)=>{Promise.resolve().then(s.bind(s,64688))},64688:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var a=s(95155),l=s(12115),r=s(95125),d=s(70898),c=s(20063),i=s(41423);let n=()=>{let e=(0,c.useRouter)(),t=(0,c.useSearchParams)().get("id"),[s,n]=(0,l.useState)([]),[x,h]=(0,l.useState)(!0),[o,p]=(0,l.useState)(!1),m=async()=>{if(t)try{let e=await r.A.post("/api/leads/single-lead",{id:t});n(e.data.data.STUDENTS.reverse())}catch(e){console.error("Error fetching students data:",e)}finally{h(!1)}};return(0,l.useEffect)(()=>{if(!t)return void e.push("/");m()},[t,e]),(0,a.jsxs)("div",{className:"container mx-auto px-6 py-12",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h1",{className:"text-4xl font-extrabold text-teal-600",children:"All Students"}),(0,a.jsxs)("button",{"aria-label":"Add New Student",onClick:()=>p(!0),className:"flex items-center px-4 py-2 bg-teal-600 text-white font-semibold rounded-lg shadow-md hover:bg-teal-700 transition duration-300",children:[(0,a.jsx)(d.E5P,{className:"mr-2"})," Add New Student"]})]}),x?(0,a.jsx)("div",{children:"Loading students..."}):(0,a.jsxs)("table",{className:"min-w-full table-auto bg-white border-collapse border border-teal-600 rounded-lg",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-teal-600 text-white",children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left",children:"Student Name"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left",children:"Age"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left",children:"Gender"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left",children:"Courses"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left",children:"Class Timing"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left",children:"Contact Method"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left",children:"Contact Time"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left",children:"Special Requirements"})]})}),(0,a.jsx)("tbody",{children:s.map((e,t)=>(0,a.jsxs)("tr",{className:"border-b border-teal-100",children:[(0,a.jsx)("td",{className:"px-6 py-4",children:e.STUDENT_NAME}),(0,a.jsx)("td",{className:"px-6 py-4",children:e.STUDENT_AGE}),(0,a.jsx)("td",{className:"px-6 py-4",children:e.STUDENT_GENDER}),(0,a.jsx)("td",{className:"px-6 py-4",children:e.PREFERRED_COURSES.join(", ")}),(0,a.jsx)("td",{className:"px-6 py-4",children:e.CLASS_TIMING}),(0,a.jsx)("td",{className:"px-6 py-4",children:e.CONTACT_METHOD}),(0,a.jsx)("td",{className:"px-6 py-4",children:new Date(e.CONTACT_TIME).toLocaleString("en-US")}),(0,a.jsx)("td",{className:"px-6 py-4",children:e.SPECIAL_REQUIREMENTS})]},t))})]}),o&&(0,a.jsx)("div",{className:"fixed z-50 inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-1/2 relative max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)("button",{"aria-label":"x",onClick:()=>p(!1),className:"absolute top-2 right-2 text-gray-600 hover:text-gray-900",children:"âœ•"}),(0,a.jsx)(i.A,{id:t,onSubmitSuccess:()=>{p(!1),m()}})]})})]})};function x(){return(0,a.jsx)(l.Suspense,{fallback:(0,a.jsx)("div",{children:"Loading..."}),children:(0,a.jsx)(n,{})})}}},e=>{e.O(0,[6711,7835,9518,8441,1255,7358],()=>e(e.s=60058)),_N_E=e.O()}]);